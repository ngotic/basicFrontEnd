<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        
    </style>
</head>
<body>
    <!-- ex47_arrow.html  -->
    <button id="btn1">버튼</button>
    <script>
        const list = [ 5, 1, 9, 3, 7, 6, 8, 2, 4, 10];
        list.map(num => 100).forEach(item => console.log(item)); // 10번 호출

        /*

            // 자바 ->
            // 자바스크립트 =>

            화살표 함수, Arrow function
            - 자바의 람다 > 익명 객체의 추상 메소드를 표기하는 문법
            - 자바스크립트의 화살표 함수 > 익명함수를 표기하는 문법 

            ★ 화살표 함수내의 this는 무조건 window를 참조한다.(***조심!!)
            >> 화살표 함수를 이벤트에 사용할 때 주의!!

        */
    //1. 함수 선언문

    function f1(num){
        console.log('f1')
    }

    f1();

    //2. 함수형 표현식 리터럴
    const f2 = function(){
        console.log('f2');
    };


    //3. 화살표 함수 = 익명함
    const f3 = () => {
        console.log('f3');
    };

    f3();
    // 실행문 1줄 > 블럭 생략
    const f4 = () => console.log('f4');

    // 매개변수
    const f5 = (num) => console.log(num);

    const f6 = num => console.log(num);    // 매개변수가 한개일 때

    const f7 = (a, b) => console.log(a+b); // 매개변수가 2개 이상일 때 ( ) 생략불가

    // 반환값  > return 이랑 {  } 없애고 값만 달랑
    const f8 = () => { return 100; }
    const f9 = () => 200;


    function test(){ // 전역함수는 윈도우 객체의 프로퍼티로 this를 기본적으로 가진다. 
    }
    // document.getElementById('btn1').onclick = function(){ // 여기선 이벤트의 this

    //     // alert('익명 함수');
    //     // 이벤트 호출한 주체 > 버튼

    //     //1. event.target
    //     //2. event.srcElement
    //     //3. this
    //     alert(event.target);     //[object HTMLButtonElement]
    //     alert(event.srcElement); //[object HTMLButtonElement]
    //     alert(this);             //[object HTMLButtonElement]
    // };

    // document.getElementById('btn1').onclick = () => {
    //     alert('화살표 함수');
    //     alert(event.target);     //[object HTMLButtonElement]
    //     alert(event.srcElement); //[object HTMLButtonElement]
    //     alert(this);             //[object Window] ★화살표 함수내의 this는 무조건 window를 참조한다.(***조심!!)
    //                                                 // >> 화살표 함수를 이벤트에 사용할 때 주의!!
    // }; 

    // setTimeout(function() {
    //     alert('확인');
    //     alert(this); //[object Window]
    // },3000);

    // setTimeout(()=>{ //setTimeout에서는 화살표로 써도 this는 Window이다.
    //     alert(this); //[object Window]
    // }, 3000);


    //list.stream().forEach(Consumer); //Consumer는 매개변수 있고 리턴이 없다. 
    // list.stream().array.forEach(n -> { System.out.println(n)});

    // const list = [ 5, 1, 9, 3, 7, 6, 8, 2, 4, 10];

    // 콜백 메서드, 콜백 함수 > Callback > 시스템(환경)에 의해서 호출되는 메서드
    // 이벤트함수 같은게 콜백함수인데 우리는 setTimeout에서 3초 후에 함수를 호출하지 않았는데
    // 호출된다. 이런게 콜백함수다. 요청이 완료되면 어떤 절차를 해줘~

    // list의 한개씩 가져오고  > 그걸 매개변수로넣음 > 자바의 Consumer와 비슷
    // list.forEach(function(num) {
    //     console.log(num);
    // }); 
    console.log('-----------');
    list.forEach( num=>{
        console.log(num); //데이터는 매개변수 하나.
    });

    // 인덱스까지 필요하면 매개변수 하나 더쓴다.
    list.forEach((item, index) => { console.log('*'+item, index);} );

    // 마지막 매개변수는 배열 원본을 가지고 있다.
    list.forEach((item, index, temp) => console.log(item, index, temp));

    // list.forEach( (item, index, origin) => {
    // console.log("&"+item, index, origin);})

    // map()
    // 앞의 요소를 가공해서 다른 요소로 반환
    list.map(num => 100).forEach(item => console.log(item));
    
    list.map(num => num %2 ==0? '짝수':'홀수').forEach(item => console.log(item));

    const names = ['홍길동', '아무개','호호호'];

    // const obj = {
    //     name: '홍길동',
    //     age : 20,
    //     address : '서울시'
    // }

    // object 배열을 넘겨줌
    names.map(name => {
        return {
            name: name,
            age: 20,
            address: '서울시'
        };
    }).forEach(obj => console.log(obj));

    // 문자열 배열을 오브젝트 배열 3개로 반환한다.

    // filter()
    // - 조건에 부합되는 요소만 반환한다.
    list.filter( num => num > 5)
        .forEach(num => console.log(num));

    // list.sort();
    // console.clear();
    console.log(list.sort((a, b) => a - b));


    // ES6부터 나옴


    //find

    // - 요소 검색

    const mlist  = ['홍길동', '하무개', '하하하', '하호호', '후후후'];


    // 요구사항 > '하'씨가 있습니까?
    for(let i=0; i<mlist.length ; i++){
        if(mlist[i].startsWith('하')){
            console.log(mlist[i]);
        }
    }

    // mlist.find();

    console.log('>>'+mlist.find(name => name.startsWith('하'))); // 이게 편하다.
    </script>
    
</body>
</html>